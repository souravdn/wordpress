!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return Je})),n.d(r,"title",(function(){return Ke})),n.d(r,"icon",(function(){return Qe})),n.d(r,"settings",(function(){return et}));n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,n,r,o=c(s);function s(){return l(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props.attributes;return""===e.id?"":wp.element.createElement("div",{className:"flagallery-shortcode"},e.shortcode)}}])&&a(t.prototype,n),r&&a(t,r),s}(wp.element.Component);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=wp.element.Component,v=window.FlaGallery,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,r,o=d(l);function l(){return y(this,l),o.apply(this,arguments)}return t=l,(n=[{key:"createShortCode",value:function(e){var t,n=e.id,r=e.type,o=e.galleryname||"",l=e.skin||"",a=e.preset||"",i=e.align||"",c=e.width||"",s="",u="",f="";return t="gallery"===r?" gid=".concat(n):" album=".concat(n),o&&o.indexOf(" ")>=0&&(o="'".concat(o,"'")),o&&(o=" name=".concat(o)),f=c?" w=".concat(c):"",l?s=" skin=".concat(l):(s="",l=v.default_skin),a?u=a.indexOf(" ")>=0?" preset='".concat(a,"'"):" preset=".concat(a):(u="",a=""),i=i?" align=".concat(i):"","[flagallery".concat(t).concat(o).concat(f).concat(s).concat(u).concat(i,"]")}},{key:"render",value:function(){return""===this.props.attributes.id?"":wp.element.createElement("div",{className:"flagallery-shortcode"},this.createShortCode(this.props.attributes))}}])&&m(t.prototype,n),r&&m(t,r),l}(w);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=console.log,E={amron:!0,albumnavigator:!0,albumwiz:!0,horizon:!0,paginator:!0};function S(e){var t=window.FlaGallery,n=""===e?t.default_skin:e;return!!t.skins[n]&&E[n]}function _(e){var t=function(e){var t="".concat("gallery"===e.type?" gid=":" album=").concat(e.id.split("-").pop());""===e.id&&(t="");var n=""!==e.galleryname?" name=".concat(e.galleryname):"",r=""===e.skin?"":" skin=".concat(e.skin),o=""!==e.preset?" preset=".concat(e.preset):"";return""===t?"":"[flagallery".concat(t+n+r+o,"]")}(R(R({},this.props.attributes),e));e=R(R({},e),{shortcode:t}),this.props.setAttributes(e)}function A(e){var t=window.FlaGallery;if(S(e))if(t||t.skins){e=""===e?t.default_skin:e;var n="".concat(t.skins[e].screenshot.split("screenshot.png")[0],"js/").concat(e,".js");if(!function(e,t){var n=window.FlaGallery;if(t&&n&&n.skins&&n.skins[t].js)return!0;for(var r=new URL(e).pathname,o=document.getElementsByTagName("script"),l=0;l<o.length;l+=1){var a=o[l];if(a.src)if(new URL(a.src).pathname===r)return l=o.length,!0}return!1}(n,e)){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.src=n,r.async=!0,document.body.appendChild(r),j("Plug start load Script",e||"")}t.skins[e]?t.skins[e].js=!0:j("Unable to load script - missing FlaGallery")}else j("Unable to load script - missing FlaGallery")}n(1);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=wp.element,F=M.Component,B=M.createRef,U=wp.components,H=U.SelectControl,q=U.TextControl,I="flag-sh-code-bilder-",V=window.FlaGallery,Z=V.skins,z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(l,e);var t,n,r,o=W(l);function l(){var e;if(x(this,l),(e=o.apply(this,arguments)).setSomeAttributes=_.bind(T(e)),e.panelRef=B(),e.panel=void 0,e.albumsAndGalleries=[{value:"",label:"- Select your album / gallery -"}],e.albums=[{value:null,label:"Albums",disabled:!0}],Object.keys(V.albums).length>0)for(var t in V.albums)if(V.albums.hasOwnProperty(t)){var n=V.albums[t];e.albums.push({value:"album-".concat(n.id),label:n.name})}if(e.galleries=[{value:null,label:"Galleries",disabled:!0},{value:"gallery-all",label:"Show All Galleries"}],Object.keys(V.galleries).length>0)for(var r in V.galleries)if(V.galleries.hasOwnProperty(r)){var a=V.galleries[r];e.galleries.push({value:"gallery-".concat(a.gid),label:a.title})}e.albums.length>1&&(e.albumsAndGalleries=e.albumsAndGalleries.concat(e.albums)),e.albumsAndGalleries=e.albumsAndGalleries.concat(e.galleries);var i=V.skins[V.default_skin].name;if(e.skins=[{label:"".concat(i," - Default Skin"),value:""}],Object.keys(V.skins).length>0)for(var c in V.skins)if(V.skins.hasOwnProperty(c)){var s=V.skins[c],u={value:s.id,label:s.name};e.skins.push(u)}return e}return t=l,(n=[{key:"componentDidMount",value:function(){if(!this.panel&&this.panelRef&&this.panelRef.current){this.panel=this.panelRef.current;var e=document.createElement("style");this.panel.appendChild(e);var t="";for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(t+='select option[value="'.concat(n,'"] { font-weight: 600;\tcolor: #007cba;}'));e.innerHTML=t}}},{key:"getPresetsBySkins",value:function(e){var t=[{label:"Default preset",value:""}];if(Object.keys(V.presets).length>0)for(var n in V.presets)if(V.presets.hasOwnProperty(n)){var r=V.presets[n];r.id===e&&t.push({value:r.name,label:r.name})}return t}},{key:"render",value:function(){var e=this,t=this.props.attributes,n=""===t.skin?V.default_skin:t.skin,r=Z&&Z[n]?Z[n]:void 0,o=this.getPresetsBySkins(t.skin);return wp.element.createElement("div",{className:"".concat(I,"gallery-tool")},wp.element.createElement("div",{className:"".concat(I,"skin-img")},r&&wp.element.createElement("img",{width:"320px",height:"240px",alt:r.name,src:r.screenshot})),wp.element.createElement("div",{ref:this.panelRef,className:"".concat(I,"panel")},wp.element.createElement(H,{options:this.albumsAndGalleries,value:t.id,onChange:function(t){var n=t.split("-")[0];e.setSomeAttributes({id:t,type:n,galleryRAW:"",loadingRAW:!1})}}),wp.element.createElement(H,{disabled:""===t.id,label:"Choose skin",options:this.skins,value:t.skin,onChange:function(t){A(""===t?V.default_skin:t);var n={skin:t,galleryRAW:"",loadingRAW:!1};""===t&&(n.preset=""),e.setSomeAttributes(n)}}),wp.element.createElement(H,{disabled:1===o.length||""===t.id,label:"Choose preset for gallery",options:o,value:t.preset,onChange:function(t){e.setSomeAttributes({preset:t,galleryRAW:"",loadingRAW:!1})}}),wp.element.createElement(q,{disabled:""===t.id,label:"Gallery Title (optional)",value:t.galleryname,onChange:function(t){return e.setSomeAttributes({galleryname:t})}})),wp.element.createElement("div",{className:"".concat(I,"gallery-srtcode")},""===t.id?"":t.shortcode))}}])&&D(t.prototype,n),r&&D(t,r),l}(F);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=window.FlaGallery,ne=wp.element,re=ne.Component,oe=ne.Fragment,le=wp.blockEditor.InspectorControls,ae=wp.components,ie=ae.PanelBody,ce=ae.Button,se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(l,e);var t,n,r,o=K(l);function l(){return Y(this,l),o.apply(this,arguments)}return t=l,(n=[{key:"componentDidUpdate",value:function(){var e=this;this.props.isSelected&&(window.tb_showIframe=function(){var t=document.getElementById("TB_iframeContent"),n=(t.contentDocument?t.contentDocument:t.contentWindow.document).getElementById("message");if(n){var r=n.getElementsByTagName("P")[0].textContent;r&&"Update Successfully"===r&&(window.tb_remove&&window.tb_remove(),e.props.setAttributes({galleryRAW:""}))}})}},{key:"render",value:function(){var e=this,t=this.props.attributes,n=new URL("".concat(te.assets.split("flash-album-gallery/")[0],"flash-album-gallery/admin/skin_options.php"));return n.searchParams.set("show_options","1"),n.searchParams.set("skin",""===t.skin?te.default_skin:t.skin),""!==t.preset&&n.searchParams.set("preset",t.preset),n.searchParams.set("TB_iframe","1"),n.searchParams.set("width","753"),n.searchParams.set("height","700"),wp.element.createElement(le,null,wp.element.createElement(oe,null,t.previewMode&&wp.element.createElement(oe,null,wp.element.createElement(ie,{className:"flag-inspector",title:"Gallery Picker"},wp.element.createElement(z,this.props)),wp.element.createElement("div",{className:"flag-sub-menu"},wp.element.createElement(ce,{isPrimary:!0,disabled:""===t.id,className:"thickbox",href:n},"Edit Skin Preset"),S(t.skin)&&wp.element.createElement(oe,null,wp.element.createElement(ce,{isSecondary:!0,onClick:function(){e.props.setAttributes({galleryRAW:"",loadingRAW:!1})}},"Refresh Preview"),wp.element.createElement("div",{className:"flag-notification"},"* In some cases, only part of the images will be shown in preview mode. But on the published page everything will be displayed in full."))))))}}])&&$(t.prototype,n),r&&$(t,r),l}(re);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=window.FlaGallery,ge=wp.element,we=ge.Component,ve=ge.Fragment,Oe=wp.components.Button,ke="wp-block-flagallery-",Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(l,e);var t,n,r,o=me(l);function l(){return fe(this,l),o.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.attributes,n=""!==he.license&&""!==he.pack;return wp.element.createElement("div",{className:"".concat(ke,"placeholder")},wp.element.createElement("img",{className:"".concat(ke,"logo"),width:"128px",height:"128px",src:"".concat(he.assets,"/icon-128x128.png"),alt:"flagallery logo"}),wp.element.createElement("h3",{className:"".concat(ke,"title")},"FLAGallery Photo Portfolio"),!n&&wp.element.createElement(ve,null,wp.element.createElement("div",{className:"".concat(ke,"get-premium")},wp.element.createElement("div",{className:"".concat(ke,"description")},"Help make the plugin better - become a member of our",wp.element.createElement("span",null," Premium Club "),"and get all our best solutions for your website."),wp.element.createElement("div",{className:"".concat(ke,"promo")},"You can use this promo code",wp.element.createElement("span",null," 30OFF "),"to get 30% discount and save $9. It’s a limited time offer."),wp.element.createElement(Oe,{className:"".concat(ke,"button-premium"),isPrimary:!0,href:"http://bit.ly/2jPNRB0",target:"_blank"},"Get Premium"))),n&&wp.element.createElement(ve,null,wp.element.createElement("div",{className:"flag-support"},wp.element.createElement(Oe,{isSecondary:!0,href:"https://mypgc.co/contact-fm/"},"Support for Premium Members"))),wp.element.createElement("h5",{className:"".concat(ke,"title")},"Gallery Picker"),wp.element.createElement(z,this.props),""!==t.id&&!t.previewMode&&S(t.skin)&&wp.element.createElement(Oe,{isPrimary:!0,style:{margin:"0 0 0 auto"},onClick:function(){return e.props.setAttributes({previewMode:!t.previewMode})}},"Preview Gallery"))}}])&&pe(t.prototype,n),r&&pe(t,r),l}(we);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=wp.element,De=xe.Component,Ge=xe.RawHTML,We=xe.createRef,Ne=wp.components.Spinner,Te=window.FlaGallery,Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(l,e);var t,n,r,o=_e(l);function l(){var e;return je(this,l),(e=o.apply(this,arguments)).galleryRef=We(),e.galleryVp=void 0,e}return t=l,(n=[{key:"componentDidMount",value:function(){!this.galleryVp&&this.galleryRef&&this.galleryRef.current&&(this.galleryVp=this.galleryRef.current)}},{key:"componentDidUpdate",value:function(){var e=this.props.attributes,t=""===e.skin?Te.default_skin:e.skin;if(""!==e.galleryRAW){var n=this.galleryVp.getElementsByClassName("".concat(t,"_skin"))[0],r=n?n.id:void 0;if(!r)return;window["fla_module_".concat(t)]&&window["fla_module_".concat(t)].initVPbyID(r)}}},{key:"render",value:function(){var e=this.props.attributes;return wp.element.createElement("div",{ref:this.galleryRef,className:"flagallery-block-raw-wrap"},""===e.galleryRAW&&wp.element.createElement("div",{className:"flag-preloader"},wp.element.createElement(Ne,null)),""!==e.galleryRAW&&wp.element.createElement(Ge,{key:"html".concat(e.is).concat(e.skin),className:"flag-block-raw"},e.galleryRAW))}}])&&Ee(t.prototype,n),r&&Ee(t,r),l}(De);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=wp.element,ze=Ze.Component,Xe=Ze.Fragment,Ye=window.FlaGallery,$e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(l,e);var t,n,r,o=He(l);function l(){var e;return Fe(this,l),(e=o.apply(this,arguments)).setSomeAttributes=_.bind(Ie(e)),e.requestGalleryRAWHndler=e.requestGalleryRAWHndler.bind(Ie(e)),e.props.attributes.galleryRAW="",e.props.attributes.loadingRAW=!1,""!==e.props.attributes.id&&1===e.props.attributes.id.split("-").length&&e.setSomeAttributes({id:"".concat(e.props.attributes.type,"-").concat(e.props.attributes.id)}),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props.attributes;e.skin,A(e.skin),e.previewMode&&S(e.skin)&&""===e.galleryRAW&&!e.loadingRAW&&this.getRAWforShortcode()}},{key:"componentDidUpdate",value:function(){var e=this.props.attributes;""!==e.shortcode&&e.previewMode&&S(e.skin)&&""===e.galleryRAW&&!e.loadingRAW&&this.getRAWforShortcode()}},{key:"getRAWforShortcode",value:function(){var e=this.props.attributes;""!==e.shortcode&&(this.props.setAttributes({loadingRAW:!0}),function(e,t,n,r,o){var l=new URL(e),a=new XMLHttpRequest;a.open("POST",l,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.onreadystatechange=function(){if(4===a.readyState){var e={};200!==a.status?e.error=a.statusText:e.data=a.responseText,r&&(e.params=r),o&&"function"==typeof o&&o(e)}},a.onerror=function(){j("An error occurred while transferring the file.")};try{j("request=".concat(n)),a.send("action=flagallery_shortcode_html&_wpnonce=".concat(t,"&shortcode=").concat(n))}catch(e){j(e)}}(Ye.ajaxurl,Ye.nonce,e.shortcode,null,this.requestGalleryRAWHndler))}},{key:"requestGalleryRAWHndler",value:function(e){this.props.setAttributes({loadingRAW:!1,galleryRAW:e.data?e.data:"ERROR"})}},{key:"render",value:function(){var e=this.props.attributes;return wp.element.createElement(Xe,null,wp.element.createElement(se,this.props),wp.element.createElement("div",{className:this.props.className},wp.element.createElement(Xe,null,(!e.previewMode||!S(e.skin))&&wp.element.createElement(Re,this.props),e.previewMode&&S(e.skin)&&wp.element.createElement(Le,this.props))))}}])&&Be(t.prototype,n),r&&Be(t,r),l}(ze),Je="gallery",Ke="GRAND FlAGallery",Qe={foreground:"#007cba",src:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},wp.element.createElement("title",null),wp.element.createElement("desc",null),wp.element.createElement("defs",null),wp.element.createElement("g",{fillRule:"evenodd",id:"miu",stroke:"none",strokeWidth:"1"},wp.element.createElement("g",{id:"Artboard-1",transform:"translate(-395.000000, -299.000000)"},wp.element.createElement("g",{id:"slice",transform:"translate(215.000000, 119.000000)"}),wp.element.createElement("path",{d:"M396.140488,305 C396.062898,305 396,305.057936 396,305.128791 L396,320.871209 C396,320.942338 396.06311,321 396.140488,321 L417.859512,321 C417.937102,321 418,320.942064 418,320.871209 L418,305.128791 C418,305.057662 417.93689,305 417.859512,305 L396.140488,305 Z M404.311468,308.965573 L407.568023,314.589603 C407.608096,314.658809 407.694647,314.676887 407.758887,314.631708 L410.521394,312.688868 C410.650699,312.59793 410.822887,312.629655 410.909233,312.764808 L415.929855,318.623341 C416.014748,318.75622 415.953368,318.863939 415.803474,318.863939 L398.147227,318.863939 C397.992123,318.863939 397.924733,318.751431 397.997976,318.6102 L404.035029,308.969159 C404.107704,308.829023 404.232913,308.829911 404.311468,308.965573 Z M413.5,310 C414.328427,310 415,309.328427 415,308.5 C415,307.671573 414.328427,307 413.5,307 C412.671573,307 412,307.671573 412,308.5 C412,309.328427 412.671573,310 413.5,310 Z M398,301 L398,302 L416,302 L416,301 L398,301 Z M397,303 L397,304 L417,304 L417,303 L397,303 Z",id:"editor-images-pictures-photos-collection-glyph"}))))},et={title:Ke,description:"Displaying GRAND FLA Galleries or FLA Albums",keywords:["lightbox","gallery","fla","images","youtube","vimeo","album","slider","grand"],attributes:{galleryname:{type:"string",default:""},id:{type:"string",default:""},type:{type:"string",default:"gallery"},skin:{type:"string",default:""},preset:{type:"string",default:""},shortcode:{type:"string",default:""},previewMode:{type:"boolean",default:!1}},supports:{align:["wide","full"],html:!1},deprecated:[{attributes:{galleryname:{type:"string",default:""},id:{type:"string",default:""},type:{type:"string",default:"gallery"},skin:{type:"string",default:""},preset:{type:"string",default:""},align:{type:"string",default:"none"},width:{type:"string",default:"100%"}},save:O}],edit:$e,save:f};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=wp.blocks.registerBlockType,ot=(0,wp.blocks.getCategories)().some((function(e){return"media"===e.slug}));[r].forEach((function(e){if(e){var t=e.name,n=e.icon,r=e.settings;rt("flagallery/".concat(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({category:ot?"media":"common",icon:n},r))}}))}]);